# Kanban Board Comparison: Proving "React-by-Default" Has Real Costs

This repository is a **follow-up proof of concept** to the blog post ["React Won by Default – And It's Killing Frontend Innovation"](https://www.lorenstew.art/blog/react-won-by-default). The blog post that discusses this repo and acts as a Part Two to the "React Won by Default" can be found [here](https://www.lorenstew.art/blog/react-won-by-default).

The first post argued React's dominance stifles innovation. This second post along with this repo **proves it with data**.

By building the same real-world Kanban app across **9 framework implementations**, we measure the actual costs of "React-by-default":

1. ✅ **Next.js 16** - React 19 + built-in compiler optimization
2. ✅ **TanStack Start** - React 19 + TanStack Router
3. ✅ **Nuxt 4** - Vue 3 reactive refs + SSR-first DX
4. ✅ **Analog** - Angular meta-framework with signals
5. ✅ **SolidStart** - Fine-grained reactivity (signals)
6. ✅ **SvelteKit** - Compiler-first approach (Svelte 5 runes)
7. ✅ **Qwik City** - Resumability (no hydration)
8. ✅ **Astro + HTMX** - MPA with progressive enhancement
9. ✅ **Marko** - Streaming SSR + fine-grained reactivity

All apps share the same SQLite database, features, and UI. **Identical functionality, measurable differences.**

---

## Bundle Size Comparison

**Production builds showing raw JavaScript size (with compressed/gzipped size in parentheses), ordered by board page size (smallest first):**

| Framework          | Board Page         | Homepage           |
| ------------------ | ------------------ | ------------------ |
| **Marko**          | 88.5 kB (28.7 kB)  | 12.4 kB (6.8 kB)   |
| **Qwik City**      | 115.7 kB (59.4 kB) | 87.1 kB (43.9 kB)  |
| **SolidStart**     | 126.3 kB (40.7 kB) | 84.0 kB (29.8 kB)  |
| **Astro + HTMX**   | 127.3 kB (34.2 kB) | 86.7 kB (21.4 kB)  |
| **SvelteKit**      | 146.1 kB (62.3 kB) | 105.6 kB (49.8 kB) |
| **TanStack Start** | 372.7 kB (117.9 kB)| 308.2 kB (98.0 kB) |
| **Nuxt**           | 409.4 kB (130.9 kB)| 406.6 kB (130.5 kB)|
| **Next.js 16**     | 524.6 kB (158.9 kB)| 447.7 kB (134.3 kB)|
| **Analog**         | 701.9 kB (136.7 kB)| 465.7 kB (124.6 kB)|

![Bundle Size Comparison Chart](../metrics/bundle-size-comparison.svg)

**Why raw (uncompressed) size?** Raw size reflects the actual code volume generated by each framework and is more consistent for comparison since it doesn't vary by server compression settings. It also indicates parse and compile time, as browsers must parse the raw code. The compressed size in parentheses shows what users actually download over the network.

**Key Takeaways**:

Marko emerges as the clear winner at just 12.4 kB raw for the home page, which is roughly 36 times smaller than Next.js, delivering full streaming SSR with fine-grained reactivity. Astro with HTMX follows at 86.7 kB raw, though it trades client-side reactivity for simplicity. SolidStart at 84.0 kB raw is approximately 5.3 times smaller than Next.js and delivers fine-grained reactivity with JSX syntax. SvelteKit and Qwik follow closely at around 87 to 116 kB raw, still delivering 4 to 5 times smaller bundles than Next.js. TanStack Start using React 19 achieves 308 to 373 kB raw, which is only 1.4 to 1.5 times better than Next.js at 448 to 525 kB raw, demonstrating that React's Virtual DOM creates significant overhead regardless of the meta-framework choice. Compile-time optimization in Svelte and Marko, resumability in Qwik, and fine-grained reactivity in Solid all eliminate Virtual DOM overhead entirely.

**Pattern Confirmed**: Rethinking core assumptions about Virtual DOM and hydration yields 4 to 35 times bundle size improvements, not merely incremental gains.

---

## Lighthouse Performance Scores

**Mobile performance scores (Mobile 4G), median from 5 runs, ordered by FCP (fastest first):**

### Board Page (Most Important)

| Framework          | Score | FCP (ms) | LCP (ms) | TBT (ms) | CLS   | Bundle Size (Raw)      |
| ------------------ | ----- | -------- | -------- | -------- | ----- | ---------------------- |
| **SvelteKit**      | 100   | 40       | 40       | 0        | 0.000 | 146.1 kB (62.3 kB)     |
| **Marko**          | 100   | 44       | 44       | 0        | 0.000 | 88.5 kB (28.7 kB)      |
| **SolidStart**     | 100   | 56       | 56       | 0        | 0.000 | 126.3 kB (40.7 kB)     |
| **Astro + HTMX**   | 100   | 57       | 57       | 0        | 0.000 | 127.3 kB (34.2 kB)     |
| **Analog**         | 100   | 60       | 60       | 0        | 0.000 | 701.9 kB (136.7 kB)    |
| **Qwik**           | 100   | 68       | 68       | 0        | 0.000 | 115.7 kB (59.4 kB)     |
| **Nuxt**           | 97    | 161      | 161      | 0        | 0.000 | 409.4 kB (130.9 kB)    |
| **TanStack Start** | 100   | 350      | 350      | 0        | 0.000 | 372.7 kB (117.9 kB)    |
| **Next.js 16**     | 97    | 2,152    | 2,152    | 0        | 0.000 | 524.6 kB (158.9 kB)    |

### Homepage

| Framework          | Score | FCP (ms) | LCP (ms) | TBT (ms) | CLS   | Bundle Size (Raw)      |
| ------------------ | ----- | -------- | -------- | -------- | ----- | ---------------------- |
| **SolidStart**     | 100   | 35       | 35       | 0        | 0.000 | 84.0 kB (29.8 kB)      |
| **Marko**          | 100   | 36       | 36       | 0        | 0.000 | 12.4 kB (6.8 kB)       |
| **SvelteKit**      | 100   | 41       | 41       | 0        | 0.000 | 105.6 kB (49.8 kB)     |
| **Analog**         | 100   | 46       | 46       | 0        | 0.000 | 465.7 kB (124.6 kB)    |
| **TanStack Start** | 100   | 47       | 47       | 0        | 0.000 | 308.2 kB (98.0 kB)     |
| **Astro + HTMX**   | 100   | 47       | 47       | 0        | 0.000 | 86.7 kB (21.4 kB)      |
| **Qwik**           | 100   | 49       | 49       | 0        | 0.000 | 87.1 kB (43.9 kB)      |
| **Next.js 16**     | 100   | 143      | 143      | 0        | 0.000 | 447.7 kB (134.3 kB)    |
| **Nuxt**           | 100   | 171      | 171      | 0        | 0.000 | 406.6 kB (130.5 kB)    |

**Key Metrics**:

- **FCP** (First Contentful Paint): When the first content appears
- **LCP** (Largest Contentful Paint): When the main content is visible
- **TBT** (Total Blocking Time): How long the main thread is blocked
- **CLS** (Cumulative Layout Shift): Visual stability (0 = perfect)

**Performance Insights**:

- **SvelteKit** achieves the fastest board page load (40ms FCP) with excellent bundle efficiency
- **Marko** delivers 44ms FCP with the smallest bundle (28.7 kB compressed)
- **SolidStart** and **Astro** follow closely with sub-60ms board page loads
- React-based frameworks show **50x slower** FCP on complex pages (board page: ~2,152ms vs ~40ms)
- All non-React frameworks achieve perfect 100 scores on the board page except Nuxt (97)

---

## Performance Metrics

For detailed information on how performance metrics are measured and how to reproduce the results, see the [Performance Metrics Guide](./performance_metrics_guide.md).

---

## Quick Start

### Next.js 16

```bash
cd kanban-nextjs
npm install
npm run dev       # Development: http://localhost:3000
npm run build     # Production build
npm start         # Production server
```

### TanStack Start

```bash
cd kanban-tanstack
npm install
npm run dev       # Development: http://localhost:3000
npm run build     # Production build
npm run start     # Production server
```

### Nuxt 4

```bash
cd kanban-nuxt
npm install
npm run dev       # Development: http://localhost:3000
npm run build     # Production build
npm run preview   # Production server
```

### Analog (Angular)

```bash
cd kanban-analog
npm install
npm run dev       # Development: http://localhost:3000
npm run build     # Production build
node dist/analog/server/index.mjs  # Production server
```

### SolidStart

```bash
cd kanban-solidstart
npm install
npm run dev       # Development: http://localhost:3000
npm run build     # Production build
npm run start     # Production server
```

### SvelteKit

```bash
cd kanban-sveltekit
npm install
npm run dev       # Development: http://localhost:5173
npm run build     # Production build
npm run preview   # Production server
```

### Qwik City

```bash
cd kanban-qwikcity
npm install
npm run dev       # Development: http://localhost:5173
npm run build     # Production build
npm run preview   # Production server
```

### Astro + HTMX

```bash
cd kanban-htmx
npm install
npm run dev       # Development: http://localhost:4321
npm run build     # Production build
npm run preview   # Production server
```

### Marko

```bash
cd kanban-marko
npm install
npm run setup     # Resets, migrates, and seeds database
npm run dev       # Development: http://localhost:3000
npm run build     # Production build
npm run start     # Production server
```

### Database Setup

Each app has its own SQLite database. To reset any app's database:

**For apps with migrations (Marko, SolidStart, Next.js, etc.):**

```bash
cd kanban-marko  # or kanban-solidstart, kanban-nextjs, etc.
rm -f drizzle/db.sqlite drizzle/db.sqlite-shm drizzle/db.sqlite-wal
npm run setup    # or: npm run db:migrate && npm run seed
```

**For other apps:**

```bash
cd kanban-sveltekit  # or kanban-nuxt, kanban-analog, etc.
rm -f drizzle/db.sqlite drizzle/db.sqlite-shm drizzle/db.sqlite-wal
npm run seed
```

---

## Related

- Blog Post: ["React Won by Default – And It's Killing Frontend Innovation"](https://www.lorenstew.art/blog/react-won-by-default)
- [Performance Metrics Guide](./performance_metrics_guide.md) - How to measure and reproduce results
- [BLOG_POST_NOTES.md](BLOG_POST_NOTES.md) - Detailed code comparison analysis
- [PROJECT_OVERVIEW.md](PROJECT_OVERVIEW.md) - Implementation guidelines

---

## License

MIT
